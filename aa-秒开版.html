<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英语填字游戏</title>
    
    <!-- CSS样式文件 -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/dark-mode.css">
</head>
<body>
    <div class="game-container">
        <!-- 头部 -->
        <header class="header">
            <div class="header-title">
                <h1>📝 英语填字游戏</h1>
            </div>
            <div class="controls">
                <button id="btn-new-game" class="btn btn-primary">
                    <span class="btn-icon">🎮</span>
                    <span>新游戏</span>
                </button>
                
                <select id="difficulty-select" class="difficulty-select">
                    <option value="easy">简单</option>
                    <option value="medium" selected>中等</option>
                    <option value="hard">困难</option>
                </select>
                
                <button id="btn-check" class="btn btn-success">
                    <span class="btn-icon">✓</span>
                    <span>检查</span>
                </button>
                
                <button id="btn-hint" class="btn btn-warning">
                    <span class="btn-icon">💡</span>
                    <span>提示</span>
                </button>
                
                <button id="btn-reset" class="btn btn-secondary">
                    <span class="btn-icon">🔄</span>
                    <span>重置</span>
                </button>
                
                <button id="btn-settings" class="btn btn-icon" title="设置">
                    ⚙️
                </button>
            </div>
        </header>
        
        <!-- 主内容 -->
        <main class="main-content">
            <!-- 网格区域 -->
            <section class="grid-section">
                <div class="grid-wrapper">
                    <div id="grid-container">
                        <!-- 网格由JS动态生成 -->
                    </div>
                </div>
                <div id="current-word" class="current-word-display">
                    选择一个格子开始
                </div>
            </section>
            
            <!-- 提示区域 -->
            <aside class="hints-section">
                <h2 class="hints-title">
                    <span class="hints-title-icon">📖</span>
                    单词提示
                </h2>
                
                <div class="hints-group">
                    <h3 class="hints-group-title">横向 (Across)</h3>
                    <ul id="hints-across" class="hints-list">
                        <!-- 提示由JS动态生成 -->
                    </ul>
                </div>
                
                <div class="hints-group">
                    <h3 class="hints-group-title">纵向 (Down)</h3>
                    <ul id="hints-down" class="hints-list">
                        <!-- 提示由JS动态生成 -->
                    </ul>
                </div>
            </aside>
        </main>
        
        <!-- 状态栏 -->
        <footer class="status-bar">
            <div class="status-item">
                <span class="status-item-icon">⏱️</span>
                <span>用时:</span>
                <span id="timer" class="status-item-value">00:00</span>
            </div>
            
            <div class="status-item">
                <span class="status-item-icon">📊</span>
                <span>进度:</span>
                <span id="progress" class="status-item-value">0/0</span>
                <div class="progress-bar">
                    <div id="progress-bar" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="status-item">
                <span class="status-item-icon">🎯</span>
                <span>难度:</span>
                <span id="difficulty-display" class="status-item-value">中等</span>
            </div>
        </footer>
    </div>
    
    <!-- 完成弹窗 -->
    <div id="complete-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-icon">🎉</div>
            <h2 class="modal-title">恭喜完成!</h2>
            <p class="modal-message">你成功完成了这个填字游戏</p>
            
            <div class="modal-stats">
                <div class="modal-stat">
                    <div class="modal-stat-value stat-time">00:00</div>
                    <div class="modal-stat-label">用时</div>
                </div>
                <div class="modal-stat">
                    <div class="modal-stat-value stat-words">0</div>
                    <div class="modal-stat-label">单词数</div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button id="btn-next-puzzle" class="btn btn-primary">
                    下一题
                </button>
            </div>
        </div>
    </div>
    
    <!-- 设置面板弹窗 -->
    <div id="settings-modal" class="modal-overlay">
        <div class="modal settings-modal">
            <div class="modal-header">
                <h2 data-i18n="settings.title">设置</h2>
                <button class="modal-close" data-close-modal>&times;</button>
            </div>
            
            <div class="modal-body">
                <!-- 语言设置 -->
                <div class="setting-group">
                    <div class="setting-item">
                        <div class="setting-label">
                            <span class="setting-icon">🌐</span>
                            <span data-i18n="settings.language">语言</span>
                        </div>
                        <select id="setting-language" class="setting-control">
                            <option value="zh">中文</option>
                            <option value="en">English</option>
                            <option value="ja">日本語</option>
                        </select>
                    </div>
                </div>
                
                <!-- 音效设置 -->
                <div class="setting-group">
                    <div class="setting-item">
                        <div class="setting-label">
                            <span class="setting-icon">🔊</span>
                            <span data-i18n="settings.sound">音效</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="setting-sound">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item setting-sub" id="volume-setting">
                        <div class="setting-label">
                            <span data-i18n="settings.soundVolume">音量</span>
                        </div>
                        <div class="volume-control">
                            <input type="range" id="setting-volume" min="0" max="100" value="70">
                            <span id="volume-display">70%</span>
                        </div>
                    </div>
                </div>
                
                <!-- 显示设置 -->
                <div class="setting-group">
                    <div class="setting-item">
                        <div class="setting-label">
                            <span class="setting-icon">✨</span>
                            <span data-i18n="settings.animations">动画效果</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="setting-animations">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <span class="setting-icon">🌙</span>
                            <span data-i18n="settings.darkMode">深色模式</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="setting-dark-mode">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <span class="setting-icon">⏱️</span>
                            <span data-i18n="settings.showTimer">显示计时器</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="setting-timer">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <!-- 游戏设置 -->
                <div class="setting-group">
                    <div class="setting-item">
                        <div class="setting-label">
                            <span class="setting-icon">✓</span>
                            <span data-i18n="settings.autoCheck">自动检查</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="setting-auto-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <!-- 数据管理 -->
                <div class="setting-group">
                    <div class="setting-item">
                        <button id="btn-view-stats" class="btn btn-secondary btn-full">
                            <span>📊</span>
                            <span data-i18n="buttons.statistics">统计数据</span>
                        </button>
                    </div>
                    
                    <div class="setting-item">
                        <button id="btn-export-data" class="btn btn-secondary btn-full">
                            <span>📤</span>
                            <span>导出数据</span>
                        </button>
                    </div>
                    
                    <div class="setting-item">
                        <button id="btn-reset-stats" class="btn btn-danger btn-full">
                            <span>🗑️</span>
                            <span data-i18n="statistics.reset">重置统计</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <p class="version-info">版本 1.0.0</p>
            </div>
        </div>
    </div>
    
    <!-- 统计面板弹窗 -->
    <div id="statistics-modal" class="modal-overlay">
        <div class="modal statistics-modal">
            <div class="modal-header">
                <h2 data-i18n="statistics.title">游戏统计</h2>
                <button class="modal-close" data-close-modal>&times;</button>
            </div>
            
            <div class="modal-body">
                <!-- 总览统计 -->
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-games-played">0</div>
                        <div class="stat-label" data-i18n="statistics.gamesPlayed">游戏次数</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-games-completed">0</div>
                        <div class="stat-label" data-i18n="statistics.gamesCompleted">完成次数</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-completion-rate">0%</div>
                        <div class="stat-label" data-i18n="statistics.completionRate">完成率</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-words-completed">0</div>
                        <div class="stat-label" data-i18n="statistics.wordsCompleted">完成单词</div>
                    </div>
                </div>
                
                <!-- 连胜记录 -->
                <div class="stats-section">
                    <h3>🔥 连胜记录</h3>
                    <div class="streak-display">
                        <div class="streak-item">
                            <span class="streak-value" id="stat-current-streak">0</span>
                            <span class="streak-label" data-i18n="statistics.currentStreak">当前连胜</span>
                        </div>
                        <div class="streak-item">
                            <span class="streak-value" id="stat-best-streak">0</span>
                            <span class="streak-label" data-i18n="statistics.bestStreak">最佳连胜</span>
                        </div>
                    </div>
                </div>
                
                <!-- 最佳时间 -->
                <div class="stats-section">
                    <h3 data-i18n="statistics.bestTimes">🏆 最佳时间</h3>
                    <div class="best-times">
                        <div class="best-time-item">
                            <span class="difficulty-label" data-i18n="difficulty.easy">简单</span>
                            <span class="time-value" id="best-time-easy">--:--</span>
                        </div>
                        <div class="best-time-item">
                            <span class="difficulty-label" data-i18n="difficulty.medium">中等</span>
                            <span class="time-value" id="best-time-medium">--:--</span>
                        </div>
                        <div class="best-time-item">
                            <span class="difficulty-label" data-i18n="difficulty.hard">困难</span>
                            <span class="time-value" id="best-time-hard">--:--</span>
                        </div>
                    </div>
                </div>
                
                <!-- 总用时 -->
                <div class="stats-section">
                    <h3 data-i18n="statistics.totalTime">⏱️ 总用时</h3>
                    <div class="total-time" id="stat-total-time">0小时 0分钟</div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="btn-close-stats" class="btn btn-primary" data-i18n="buttons.close">
                    关闭
                </button>
            </div>
        </div>
    </div>
    
    <!-- 加载题库 -->
    <script src="data/puzzle_db_aa.js"></script>
    
    <!-- JavaScript文件 - 按依赖顺序加载 -->
    <script src="js/storage.js"></script>
    <script src="js/game.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/animation.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/app.js"></script>
</body>
</html>